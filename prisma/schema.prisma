// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model category {
  id          Int           @unique
  uniq_id     String        @unique
  name        String        @db.VarChar(100)
  subcategory subcategory[]
  altcategory altcategory[]
  product     product[]
}

model subcategory {
  id          Int           @unique
  uniq_id     String        @unique
  name        String        @db.VarChar(100)
  cateogry    category      @relation(fields: [category_id], references: [id])
  category_id Int
  altcategory altcategory[]
  product     product[]
}

model altcategory {
  id          Int         @unique
  uniq_id     String      @unique
  name        String      @db.VarChar(100)
  subcategory subcategory @relation(fields: [subcat_id], references: [id])
  category    category    @relation(fields: [cat_id], references: [id])
  cat_id      Int
  subcat_id   Int
  product     product[]
}

model product {
  uniq_id       String        @unique
  name          String
  description   Json
  specification Json
  price         Float
  status        ProductStatus
  weight        Float
  model         String
  altcategory   altcategory   @relation(fields: [altcat_id], references: [id])
  altcat_id     Int
  subcategory   subcategory   @relation(fields: [subcat_id], references: [id])
  subcat_id     Int
  cat_id        Int
  category      category      @relation(fields: [cat_id], references: [id])
}

model contact {
  uniq_id String @unique
  name    String @db.VarChar(255)
  email   String @db.VarChar(255)
  phone   String @db.VarChar(100)
  message String @db.Text
}

model aboutus {
  uniq_id String @unique
  title   String
  context String
}

model user {
  uniq_id  String @unique @db.VarChar(255)
  name     String @db.VarChar(100)
  lastname String @db.VarChar(100)
  phone    String @db.VarChar(100)
  password String @db.VarChar(255)
  email    String @unique @db.VarChar(150)
  adress   String @db.Text
}

enum ProductStatus {
  active
  deactive
}
